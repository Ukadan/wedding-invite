<!DOCTYPE html>
<html lang="kk">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Али & Багдат — Приглашение</title>
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;1,400&family=Montserrat:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>
<body>

    <!-- Background music -->
    <audio id="bg-music" loop preload="auto">
        <source src="toizhira.mp3" type="audio/mpeg">
    </audio>

    <!-- Navigation -->
    <nav class="navbar" aria-label="Навигация">
        <div class="nav-inner">
            <div class="brand">
                <span class="brand-dot"></span>
                <span class="brand-text">Ali &amp; Bagdat</span>
            </div>
            <ul class="nav-links">
                <li><a href="#photo" data-i18n="nav_photo">Фото</a></li>
                <li><a href="#we" data-i18n="nav_we">Біз</a></li>
                <li><a href="#invite" data-i18n="nav_invite">Шақыру</a></li>
                <li><a href="#form" data-i18n="nav_form">Толтыру</a></li>
            </ul>
            <div class="lang-switcher" aria-label="Выбор языка">
                <button type="button" class="lang-btn active" data-lang="kk">Қаз</button>
                <button type="button" class="lang-btn" data-lang="en">En</button>
                <button type="button" class="lang-btn" data-lang="ru">Ru</button>
            </div>
        </div>
    </nav>

    <!-- Section: Photo -->
    <header class="intro" id="photo">
        <div class="intro-bg" aria-hidden="true"></div>
        <div class="intro-shade" aria-hidden="true"></div>
        <div class="intro-content">
            <p class="intro-kicker" data-i18n="intro_kicker">ALI &amp; BAGDAT</p>
            <h1 class="intro-title" data-i18n="intro_title">Үйлену тойына шақыру</h1>
            <p class="intro-hint" data-i18n="intro_hint">Төмен сырғытыңыз</p>
        </div>
    </header>

    <!-- Section: We -->
    <section id="we" class="section section-we">
        <div class="container">
            <div class="card">
                <h2 class="section-title" data-i18n="we_title">Біз</h2>
                <p class="lead" data-i18n="we_text">
                    Али мен Багдат өміріміздегі ең маңызды күндердің бірін сізбен бірге атап өткіміз келеді.
                </p>
            </div>
        </div>
    </section>

    <!-- Section: Invitation -->
    <section id="invite" class="section section-invite">
        <div class="container">
            <div class="invite-card">
                <p class="kicker" data-i18n="invite_kicker">Үйлену тойына шақыру</p>
                <h2 class="invite-title" data-i18n="invite_title">Біз сіздерді үйлену тойымызға шақырамыз</h2>
                <p class="names" data-i18n="invite_names">Али &amp; Багдат</p>
                <div class="invite-details">
                    <div class="detail">
                        <div class="detail-label" data-i18n="invite_date_label">Күні</div>
                        <div class="detail-value" data-i18n="invite_date_value">2026 жылғы 24 қазан</div>
                    </div>
                    <div class="detail">
                        <div class="detail-label" data-i18n="invite_place_label">Орыны</div>
                        <div class="detail-value" data-i18n="invite_place_value">“Aurora” банкет залы</div>
                    </div>
                    <div class="detail">
                        <div class="detail-label" data-i18n="invite_address_label">Мекенжай</div>
                        <div class="detail-value" data-i18n="invite_address_value">Алматы қ., Төле би көш., 123</div>
                    </div>
                </div>

                <button type="button" class="cta-button" id="accept-invite" data-i18n="invite_button">
                    Шақыруды қабылдау
                </button>
            </div>
        </div>
    </section>

    <!-- Section: Form -->
    <section id="form" class="section section-form">
        <div class="container">
            <div class="form-card">
                <h2 class="section-title" data-i18n="form_title">Толтыру</h2>
                <p class="muted" data-i18n="form_subtitle">Қонақтардың мәліметтерін енгізіңіз (мәліметтер ешқайда жіберілмейді).</p>

                <form id="guest-form" class="pretty-form" autocomplete="on">
                    <div class="field">
                        <label for="guest1" data-i18n="form_main_label">Аты-жөні</label>
                        <input
                            id="guest1"
                            name="guest1"
                            type="text"
                            placeholder="Мысалы: Айдана Нұрлан"
                            required
                            data-i18n-placeholder="form_main_placeholder"
                        >
                    </div>

                    <div class="toggle">
                        <input id="with-spouse" type="checkbox">
                        <label for="with-spouse" data-i18n="form_spouse_toggle">Мен жұбайыммен/жолдасыммен келемін</label>
                    </div>

                    <div class="field" id="spouse-field" hidden>
                        <label for="guest2" data-i18n="form_spouse_label">Жұбайының/жолдасының аты-жөні</label>
                        <input
                            id="guest2"
                            name="guest2"
                            type="text"
                            placeholder="Мысалы: Асқар Нұрлан"
                            data-i18n-placeholder="form_spouse_placeholder"
                        >
                    </div>

                    <button type="submit" class="cta-button cta-secondary" data-i18n="form_finish_button">
                        Аяқтау
                    </button>
                </form>
            </div>
        </div>
    </section>

    <!-- Music toggle button -->
    <button type="button" class="music-btn" id="music-toggle" aria-pressed="false" aria-label="Toggle music">
        <span class="music-icon" id="music-icon" aria-hidden="true">
            <span class="music-speaker"></span>
            <span class="music-wave wave-1"></span>
            <span class="music-wave wave-2"></span>
        </span>
    </button>

    <!-- Thank you overlay -->
    <div class="thanks" id="thanks" hidden role="dialog" aria-modal="true" aria-labelledby="thanks-title">
        <div class="thanks-card">
            <p class="kicker" data-i18n="thanks_kicker">Рахмет!</p>
            <h2 id="thanks-title" class="section-title" data-i18n="thanks_title">Шақыруымызды қабылдағаныңызға рахмет</h2>
            <p class="lead" data-i18n="thanks_text">Сізді қуана қарсы аламыз.</p>
            <button type="button" class="cta-button" id="close-thanks" data-i18n="thanks_close">Жабу</button>
        </div>
    </div>

    <footer class="footer">
        <p data-i18n="footer_text">Mahabbatpen jasalğan • Ali &amp; Bagdat © 2026</p>
    </footer>

    <script>
        function scrollToId(id) {
            var el = document.getElementById(id);
            if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });
        }

        // Translations
        const translations = {
            kk: {
                nav_photo: 'Фото',
                nav_we: 'Біз',
                nav_invite: 'Шақыру',
                nav_form: 'Толтыру',
                intro_kicker: 'ALI & BAGDAT',
                intro_title: 'Үйлену тойына шақыру',
                intro_hint: 'Төмен сырғытыңыз',
                we_title: 'Біз',
                we_text: 'Али мен Багдат өміріміздегі ең маңызды күндердің бірін сізбен бірге атап өткіміз келеді.',
                invite_kicker: 'Үйлену тойына шақыру',
                invite_title: 'Біз сіздерді үйлену тойымызға шақырамыз',
                invite_names: 'Али & Bagdat',
                invite_date_label: 'Күні',
                invite_date_value: '2026 жылғы 24 қазан',
                invite_place_label: 'Орыны',
                invite_place_value: '“Aurora” банкет залы',
                invite_address_label: 'Мекенжай',
                invite_address_value: 'Алматы қ., Төле би көш., 123',
                invite_button: 'Шақыруды қабылдау',
                form_title: 'Толтыру',
                form_subtitle: 'Қонақтардың мәліметтерін енгізіңіз (мәліметтер ешқайда жіберілмейді).',
                form_main_label: 'Аты-жөні',
                form_main_placeholder: 'Мысалы: Айдана Нұрлан',
                form_spouse_toggle: 'Мен жұбайыммен/жолдасыммен келемін',
                form_spouse_label: 'Жұбайының/жолдасының аты-жөні',
                form_spouse_placeholder: 'Мысалы: Асқар Нұрлан',
                form_finish_button: 'Аяқтау',
                thanks_kicker: 'Рахмет!',
                thanks_title: 'Шақыруымызды қабылдағаныңызға рахмет',
                thanks_text: 'Сізді қуана қарсы аламыз.',
                thanks_close: 'Жабу',
                footer_text: 'Mahabbatpen jasalğan • Ali & Bagdat © 2026'
            },
            en: {
                nav_photo: 'Photo',
                nav_we: 'Us',
                nav_invite: 'Invitation',
                nav_form: 'Details',
                intro_kicker: 'ALI & BAGDAT',
                intro_title: 'Wedding Invitation',
                intro_hint: 'Scroll down',
                we_title: 'Us',
                we_text: 'Ali and Bagdat would be honoured to share one of the most important days of our lives with you.',
                invite_kicker: 'Wedding Invitation',
                invite_title: 'We invite you to our wedding',
                invite_names: 'Ali & Bagdat',
                invite_date_label: 'Date',
                invite_date_value: 'October 24, 2026',
                invite_place_label: 'Venue',
                invite_place_value: 'Aurora Banquet Hall',
                invite_address_label: 'Address',
                invite_address_value: 'Almaty, Tole Bi street, 123',
                invite_button: 'Accept invitation',
                form_title: 'Details',
                form_subtitle: 'Please fill in guest details (nothing will be sent anywhere).',
                form_main_label: 'First and last name',
                form_main_placeholder: 'For example: John Smith',
                form_spouse_toggle: 'I will come with my spouse',
                form_spouse_label: 'Spouse’s first and last name',
                form_spouse_placeholder: 'For example: Jane Smith',
                form_finish_button: 'Finish',
                thanks_kicker: 'Thank you!',
                thanks_title: 'Thank you for accepting our invitation',
                thanks_text: 'We will be happy to see you.',
                thanks_close: 'Close',
                footer_text: 'Made with love • Ali & Bagdat © 2026'
            },
            ru: {
                nav_photo: 'Фото',
                nav_we: 'Мы',
                nav_invite: 'Приглашение',
                nav_form: 'Заполнение',
                intro_kicker: 'ALI & BAGDAT',
                intro_title: 'Приглашение на свадьбу',
                intro_hint: 'Прокрутите вниз',
                we_title: 'Мы',
                we_text: 'Али и Багдат с радостью приглашают вас разделить с ними один из самых важных дней нашей жизни.',
                invite_kicker: 'Приглашение на свадьбу',
                invite_title: 'Мы приглашаем вас на нашу свадьбу',
                invite_names: 'Али & Багдат',
                invite_date_label: 'Дата',
                invite_date_value: '24 октября 2026',
                invite_place_label: 'Место',
                invite_place_value: 'Банкет-холл «Aurora»',
                invite_address_label: 'Адрес',
                invite_address_value: 'г. Алматы, ул. Толе би, 123',
                invite_button: 'Принять приглашение',
                form_title: 'Заполнение',
                form_subtitle: 'Введите данные гостей (ничего никуда не отправляется).',
                form_main_label: 'Имя и фамилия',
                form_main_placeholder: 'Например: Иван Иванов',
                form_spouse_toggle: 'Я буду с супругом/супругой',
                form_spouse_label: 'Имя и фамилия супруга/супруги',
                form_spouse_placeholder: 'Например: Мария Иванова',
                form_finish_button: 'Завершить',
                thanks_kicker: 'Спасибо!',
                thanks_title: 'Спасибо, что приняли приглашение',
                thanks_text: 'Будем рады вас видеть.',
                thanks_close: 'Закрыть',
                footer_text: 'Сделано с любовью • Ali & Bagdat © 2026'
            }
        };

        function setLanguage(lang) {
            var dict = translations[lang] || translations['kk'];
            document.documentElement.lang = lang;

            document.querySelectorAll('[data-i18n]').forEach(function (el) {
                var key = el.getAttribute('data-i18n');
                if (dict[key]) {
                    el.textContent = dict[key];
                }
            });

            document.querySelectorAll('[data-i18n-placeholder]').forEach(function (el) {
                var key = el.getAttribute('data-i18n-placeholder');
                if (dict[key]) {
                    el.placeholder = dict[key];
                }
            });

            document.querySelectorAll('.lang-btn').forEach(function (btn) {
                btn.classList.toggle('active', btn.getAttribute('data-lang') === lang);
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            // Music toggle
            var audio = document.getElementById('bg-music');
            var musicBtn = document.getElementById('music-toggle');
            var musicIcon = document.getElementById('music-icon');

            function setMusicUI(on) {
                if (!musicBtn) return;
                musicBtn.setAttribute('aria-pressed', String(on));
                musicBtn.classList.toggle('on', on);
                if (musicIcon) {
                    musicIcon.classList.toggle('muted', !on);
                }
            }

            // Проверяем наличие аудио элемента
            if (audio && musicBtn) {
                audio.volume = 0.4;
                
                // Убеждаемся, что кнопка видна
                musicBtn.style.display = 'flex';
                musicBtn.style.visibility = 'visible';
                musicBtn.style.opacity = '1';
                
                // Обработка ошибок загрузки
                audio.addEventListener('error', function(e) {
                    console.warn('Не удалось загрузить аудио файл toizhira.mp3:', e);
                    // Кнопка остается видимой, но показывает, что файл не найден
                    musicBtn.style.opacity = '0.6';
                    musicBtn.title = 'Аудио файл не найден';
                });

                audio.addEventListener('loadeddata', function() {
                    // Файл загружен, пробуем автоплей
                    audio.play().then(function () {
                        setMusicUI(true);
                    }).catch(function (err) {
                        // Автоплей заблокирован - это нормально
                        console.log('Автоплей заблокирован браузером (нужно взаимодействие пользователя)');
                        setMusicUI(false);
                    });
                });

                // Если файл уже загружен
                if (audio.readyState >= 2) {
                    audio.play().then(function () {
                        setMusicUI(true);
                    }).catch(function () {
                        setMusicUI(false);
                    });
                }

                // Клик по кнопке
                musicBtn.addEventListener('click', function () {
                    if (audio.paused) {
                        audio.play().then(function () {
                            setMusicUI(true);
                        }).catch(function (err) {
                            console.warn('Не удалось воспроизвести музыку:', err);
                            setMusicUI(false);
                            alert('Не удалось воспроизвести музыку. Проверьте, что файл toizhira.mp3 загружен на сервер.');
                        });
                    } else {
                        audio.pause();
                        setMusicUI(false);
                    }
                });
            } else {
                // Если элементов нет, показываем кнопку, но делаем её неактивной
                if (musicBtn) {
                    musicBtn.style.display = 'flex';
                    musicBtn.style.opacity = '0.5';
                    musicBtn.style.cursor = 'not-allowed';
                }
            }

            // Language switcher
            document.querySelectorAll('.lang-btn').forEach(function (btn) {
                btn.addEventListener('click', function () {
                    var lang = btn.getAttribute('data-lang');
                    setLanguage(lang);
                });
            });

            setLanguage('kk'); // default

            // CTA scroll
            document.getElementById('accept-invite').addEventListener('click', function () {
                scrollToId('form');
            });

            // Spouse field toggle
            var withSpouse = document.getElementById('with-spouse');
            var spouseField = document.getElementById('spouse-field');
            var guest2 = document.getElementById('guest2');

            withSpouse.addEventListener('change', function () {
                spouseField.hidden = !withSpouse.checked;
                guest2.required = withSpouse.checked;
                if (!withSpouse.checked) guest2.value = '';
            });

            // Finish -> show thank you overlay (no sending anywhere)
            var thanks = document.getElementById('thanks');
            document.getElementById('guest-form').addEventListener('submit', function (e) {
                e.preventDefault();
                thanks.hidden = false;
                document.body.classList.add('no-scroll');
            });

            document.getElementById('close-thanks').addEventListener('click', function () {
                thanks.hidden = true;
                document.body.classList.remove('no-scroll');
            });
        });
    </script>

</body>
</html>


